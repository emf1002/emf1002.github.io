<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Fragment | Never Ever Stop Trying</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="android&amp;#x5B66;&amp;#x4E86;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4E86;&amp;#xFF0C;&amp;#x6587;&amp;#x7AE0;&amp;#x770B;&amp;#x4E86;&amp;#x65E0;&amp;#x6570;&amp;#xFF0C;&amp;#x4F18;&amp;#x79C0;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x5404;&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="Fragment">
<meta property="og:url" content="http://yoursite.com/2016/01/22/android/Fragment/index.html">
<meta property="og:site_name" content="Never Ever Stop Trying">
<meta property="og:description" content="android&amp;#x5B66;&amp;#x4E86;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4E86;&amp;#xFF0C;&amp;#x6587;&amp;#x7AE0;&amp;#x770B;&amp;#x4E86;&amp;#x65E0;&amp;#x6570;&amp;#xFF0C;&amp;#x4F18;&amp;#x79C0;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x5404;&amp;">
<meta property="og:updated_time" content="2016-02-19T08:41:52.536Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fragment">
<meta name="twitter:description" content="android&amp;#x5B66;&amp;#x4E86;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4E86;&amp;#xFF0C;&amp;#x6587;&amp;#x7AE0;&amp;#x770B;&amp;#x4E86;&amp;#x65E0;&amp;#x6570;&amp;#xFF0C;&amp;#x4F18;&amp;#x79C0;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x5404;&amp;">
  
    <link rel="alternative" href="/atom.xml" title="Never Ever Stop Trying" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/image/icon.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">MjLao</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Happiness is a way station between too much and too little</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>標籤</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/android/" style="font-size: 10px;">android</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">MjLao</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/image/icon.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">MjLao</h1>
			</hgroup>
			
			<p class="header-subtitle">Happiness is a way station between too much and too little</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-android/Fragment" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/22/android/Fragment/" class="article-date">
  	<time datetime="2016-01-22T00:44:46.000Z" itemprop="datePublished">2016-01-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Fragment
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>android&#x5B66;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x6587;&#x7AE0;&#x770B;&#x4E86;&#x65E0;&#x6570;&#xFF0C;&#x4F18;&#x79C0;&#x7684;&#x6587;&#x7AE0;&#x5F88;&#x591A;&#xFF0C;&#x5404;&#x79CD;&#x6280;&#x672F;&#x4ECB;&#x7ECD;&#x7684;&#x4E5F;&#x90FD;&#x5341;&#x5206;&#x6E05;&#x6670;&#xFF0C;&#x4F46;&#x662F;&#x603B;&#x611F;&#x89C9;&#x5DEE;&#x70B9;&#x4EC0;&#x4E48;&#xFF0C;&#x4E5F;&#x8BB8;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x611F;&#x53D7;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x624D;&#x80FD;&#x5F62;&#x6210;&#x81EA;&#x5DF1;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x4E00;&#x76F4;&#x4F7F;&#x7528;&#x6709;&#x9053;&#x4E91;&#x7B14;&#x8BB0;&#xFF0C;&#x5404;&#x79CD;&#x6587;&#x7AE0;&#x8BB0;&#x5F55;&#x4E86;&#x4E0A;&#x767E;&#x7BC7;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x7AE0;&#x901A;&#x5E38;&#x53EA;&#x662F;&#x9759;&#x9759;&#x7684;&#x8EBA;&#x5728;&#x90A3;&#x91CC;,&#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x8BB0;&#x5F55;&#x5728;&#x6211;&#x7684;&#x7B14;&#x8BB0;&#x91CC;&#xFF0C;&#x4F46;&#x90A3;&#x4ECD;&#x7136;&#x4E0D;&#x662F;&#x5C5E;&#x4E8E;&#x7684;&#x6211;&#x4E1C;&#x897F;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x5B66;&#x4F1A;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x77E5;&#x8BC6;&#x3002;<br>&#x5173;&#x4E8E;&#x77E5;&#x8BC6;&#x7BA1;&#x7406;&#x65B9;&#x9762;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#xFF1A;<a href="http://blog.xiaohansong.com/2016/01/16/kownledge-Management/" target="_blank" rel="external">&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x77E5;&#x8BC6;&#x7BA1;&#x7406;</a>  </p>
<p>&#x56E0;&#x4E3A;&#x6700;&#x8FD1;&#x7528;&#x5230;&#x4E86;Fragment&#xFF0C;&#x6240;&#x4EE5;&#x5148;&#x4ECE;Fragment&#x5F00;&#x59CB;</p>
<a id="more"></a>
<h3 id="1_u3001Android_Fragment"><a href="#1_u3001Android_Fragment" class="headerlink" title="1&#x3001;Android Fragment"></a>1&#x3001;Android Fragment</h3><p>&#x5F53;&#x6211;&#x7B2C;&#x4E00;&#x6B21;&#x770B;&#x5230;fragment&#x8FD9;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x7ACB;&#x9A6C;&#x6253;&#x5F00;&#x8BCD;&#x5178;&#x67E5;&#x4E86;&#x4E00;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>fragment : [&#x2018;fr&#xE6;gm(&#x259;)nt]<br>n. &#x788E;&#x7247;&#xFF1B;&#x7247;&#x65AD;&#x6216;&#x4E0D;&#x5B8C;&#x6574;&#x90E8;&#x5206;<br>vt. &#x4F7F;&#x6210;&#x788E;&#x7247;<br>vi. &#x7834;&#x788E;&#x6216;&#x88C2;&#x5F00;</p>
</blockquote>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5728;&#x9605;&#x8BFB;&#x82F1;&#x6587;&#x6280;&#x672F;&#x6587;&#x6863;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9047;&#x5230;&#x6CA1;&#x6709;&#x89C1;&#x8FC7;&#x7684;&#x5355;&#x8BCD;&#xFF0C;&#x6211;&#x603B;&#x662F;&#x60F3;&#x8981;&#x5148;&#x67E5;&#x4E00;&#x4E0B;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x53D1;&#x97F3;&#x3002;&#x5373;&#x4FBF;&#x662F;&#x5F88;&#x591A;&#x4E0D;&#x8BA4;&#x8BC6;&#x7684;&#x5355;&#x8BCD;&#xFF0C;&#x80FD;&#x591F;&#x731C;&#x51FA;&#x5176;&#x5927;&#x610F;&#x800C;&#x4E14;&#x4E0D;&#x5F71;&#x54CD;&#x9605;&#x8BFB;&#xFF0C;&#x4E8B;&#x540E;&#x4E5F;&#x8981;&#x53BB;&#x67E5;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x4E5F;&#x7B97;&#x662F;&#x4E00;&#x79CD;&#x5F3A;&#x8FEB;&#x75C7;&#x5427;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E5F;&#x8BA9;&#x6211;&#x9605;&#x8BFB;&#x82F1;&#x6587;&#x6587;&#x6863;&#x7684;&#x6C34;&#x5E73;&#x63D0;&#x9AD8;&#x4E86;&#x4E0D;&#x5C11;&#x3002;</p>
<p>fragment&#x7684;&#x542B;&#x4E49;&#x662F;&#x788E;&#x7247;&#xFF0C;&#x8FD9;&#x8BA9;&#x6211;&#x9996;&#x5148;&#x60F3;&#x5230;&#x4E86;&#x73A9;&#x5177;&#x62FC;&#x56FE;&#x7684;&#x788E;&#x7247;&#x3002;&#x8BB8;&#x591A;&#x5F20;&#x788E;&#x7247;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x5408;&#x5230;&#x4E00;&#x8D77;&#x5F62;&#x6210;&#x4E86;&#x5B8C;&#x6574;&#x7684;&#x62FC;&#x56FE;&#x3002;&#x8054;&#x7CFB;&#x5230;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x65B9;&#x9762;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#x5B83;&#x7684;&#x76F8;&#x5173;&#x8BCD;&#x6C47;&#x5E94;&#x8BE5;&#x662F;&#x6A21;&#x5757;&#x3001;&#x7EC4;&#x4EF6;&#x3001;&#x53EF;&#x63D2;&#x62D4;&#x3002;&#x6A21;&#x5757;&#x5316;&#x5F00;&#x53D1;&#x7684;&#x597D;&#x5904;&#x662F;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;<strong>&#x589E;&#x52A0;&#x3001;&#x66FF;&#x6362;&#x3001;&#x5220;&#x9664;</strong>&#x67D0;&#x4E2A;&#x6A21;&#x5757;,&#x540C;&#x65F6;&#x6709;&#x7740;&#x6709;&#x5F88;&#x597D;&#x7684;&#x6269;&#x5C55;&#x6027;&#x548C;&#x9002;&#x5E94;&#x6027;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;android&#x4E2D;&#x7684;fragment&#x4E5F;&#x6B63;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x7406;&#x5FF5;&#x6765;&#x505A;&#x7684;&#x3002;</p>
<p>&#x56E0;&#x6B64;android fragment&#x4EA7;&#x751F;&#x7684;&#x76EE;&#x7684;&#xFF1A;</p>
<blockquote>
<p>&#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x4E0D;&#x540C;&#x5C3A;&#x5BF8;&#xFF0C;&#x4E0D;&#x540C;&#x5206;&#x8FA8;&#x7387;&#x7684;&#x5C4F;&#x5E55;&#xFF0C;&#x4E3A;&#x67D0;&#x4E2A;&#x754C;&#x9762;&#x589E;&#x52A0;&#x72EC;&#x7ACB;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;Activity&#x4E2D;&#x52A8;&#x6001;&#x7684;&#x6DFB;&#x52A0;&#x3001;&#x66FF;&#x6362;&#x548C;&#x79FB;&#x9664;&#x67D0;&#x4E2A;Fragment</p>
</blockquote>
<p>&#x6709;&#x4E86;Fragment&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;Activity&#x4E2D;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x8FDB;&#x884C;&#x5206;&#x89E3;&#xFF0C;&#x539F;&#x5148;Activity&#x590D;&#x6742;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5206;&#x522B;&#x5728;Fragment&#x4E2D;&#x5B9E;&#x73B0;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x5177;&#x4F53;&#x6765;&#x770B;&#x4E00;&#x4E0B;fragment&#x662F;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x7684;&#x3002;</p>
<h3 id="2_u3001Fragment__u751F_u547D_u5468_u671F"><a href="#2_u3001Fragment__u751F_u547D_u5468_u671F" class="headerlink" title="2&#x3001;Fragment &#x751F;&#x547D;&#x5468;&#x671F;"></a>2&#x3001;Fragment &#x751F;&#x547D;&#x5468;&#x671F;</h3><p>&#x751F;&#x547D;&#x5468;&#x671F;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x52A0;&#x5165;&#x5230;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF08;&#x751F;&#x547D;&#x5F00;&#x59CB;&#xFF09;&#x5230;&#x4ECE;&#x7CFB;&#x7EDF;&#x4E2D;&#x79FB;&#x9664;&#xFF08;&#x751F;&#x547D;&#x7ED3;&#x675F;&#xFF09;&#x8FD9;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x80AF;&#x5B9A;&#x6709;&#x5F88;&#x591A;&#x73AF;&#x8282;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x4E2A;&#x73AF;&#x8282;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B8C;&#x6210;fragment&#x7684;&#x4F7F;&#x547D;&#xFF0C;&#x4E0B;&#x9762;&#x6765;&#x770B;&#x4E00;&#x4E0B;<br><a href="http://developer.android.com/reference/android/app/Fragment.html" target="_blank" rel="external">&#x5B98;&#x65B9;&#x8BF4;&#x660E;</a>,&#x7167;&#x987E;&#x4E00;&#x4E0B;&#x770B;&#x4E0D;&#x5230;&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x8D34;&#x8FC7;&#x6765;&#xFF1A;</p>
<blockquote>
<p>A Fragment is a piece of an application&#x2019;s user interface or behavior that can be placed in an Activity. Interaction with fragments is done through FragmentManager, which can be obtained via Activity.getFragmentManager() and Fragment.getFragmentManager().<br>The Fragment class can be used many ways to achieve a wide variety of results. In its core, it represents a particular operation or interface that is running within a larger Activity. A Fragment is closely tied to the Activity it is in, and can not be used apart from one. Though Fragment defines its own lifecycle, that lifecycle is dependent on its activity: if the activity is stopped, no fragments inside of it can be started; when the activity is destroyed, all fragments will be destroyed.<br>All subclasses of Fragment must include a public no-argument constructor. The framework will often re-instantiate a fragment class when needed, in particular during state restore, and needs to be able to find this constructor to instantiate it. If the no-argument constructor is not available, a runtime exception will occur in some cases during state restore.<br>Though a Fragment&#x2019;s lifecycle is tied to its owning activity, it has its own wrinkle on the standard activity lifecycle. It includes basic activity lifecycle methods such as onResume(), but also important are methods related to interactions with the activity and UI generation.<br>The core series of lifecycle methods that are called to bring a fragment up to resumed state (interacting with the user) are:<br><strong>onAttach(Activity)</strong> called once the fragment is associated with its activity.<br><strong>onCreate(Bundle)</strong> called to do initial creation of the fragment.<br><strong>onCreateView(LayoutInflater, ViewGroup, Bundle)</strong> creates and returns the view hierarchy associated with the fragment.<br><strong>onActivityCreated(Bundle) </strong>tells the fragment that its activity has completed its own Activity.onCreate().<br><strong>onViewStateRestored(Bundle)</strong> tells the fragment that all of the saved state of its view hierarchy has been restored.<br><strong>onStart()</strong> makes the fragment visible to the user (based on its containing activity being started).<br><strong>onResume()</strong> makes the fragment begin interacting with the user (based on its containing activity being resumed).  </p>
<p></p><p>As a fragment is no longer being used, it goes through a reverse series of callbacks:<br><strong>onPause()</strong> fragment is no longer interacting with the user either because its activity is being paused or a fragment operation is modifying it in the activity.<br><strong>onStop()</strong> fragment is no longer visible to the user either because its activity is being stopped or a fragment operation is modifying it in the activity.<br><strong>onDestroyView()</strong> allows the fragment to clean up resources associated with its View.<br><strong>onDestroy()</strong> called to do final cleanup of the fragment&#x2019;s state.<br><strong>onDetach()</strong> called immediately prior to the fragment no longer being associated with its activity.</p>
</blockquote>
<p>&#x770B;&#x4E0D;&#x61C2;&#x7684;&#x540C;&#x5B66;&#x8BF7;&#x76F4;&#x63A5;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x89E3;&#x91CA;&#xFF1A;</p>
<p>&#x9996;&#x5148;Fragment&#x662F;&#x7ED1;&#x5B9A;&#x5230;Activity&#x4E2D;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;FragmentManager&#x7BA1;&#x7406;&#x3002;FragmentManager&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Activity&#x7684;getFragmentManager() &#x548C; Fragment&#x7684;getFragmentManager()&#x65B9;&#x6CD5;&#x62FF;&#x5230;&#xFF0C;&#x8FD9;&#x91CC;&#x8865;&#x5145;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;Fragment&#x7684;getChildFragmentManager()&#xFF0C;&#x8FD9;&#x4E2A;manager&#x7528;&#x6765;&#x7BA1;&#x7406;&#x5D4C;&#x5957;&#x5728;Fragment&#x5185;&#x90E8;&#x7684;Fragment,&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5185;&#x90E8;&#x7684;Fragment&#x4E0E;&#x5916;&#x90E8;&#x7684;Fragment&#x751F;&#x547D;&#x5468;&#x671F;&#x540C;&#x6B65;&#x3002;&#x5F53;&#x5916;&#x9762;&#x7684;Fragment&#x9500;&#x6BC1;&#x65F6;&#xFF0C;&#x5185;&#x90E8;&#x7684;&#x4E5F;&#x4F1A;&#x9500;&#x6BC1;&#x3002;</p>
<p>Fragment&#x867D;&#x7136;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4E0D;&#x80FD;&#x72EC;&#x7ACB;&#x5B58;&#x5728;&#xFF0C;&#x5FC5;&#x987B;&#x7ED1;&#x5B9A;&#x5230;Activity&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x53D7;Activity&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x5F71;&#x54CD;&#x3002;&#x5982;&#x679C;Activity&#x5904;&#x4E8E;stoped&#x72B6;&#x6001;&#xFF0C;&#x5B83;&#x6240;&#x6709;&#x7684;fragment&#x4E5F;&#x4F1A;&#x53D8;&#x4E3A;stoped,&#x5982;&#x679C;Activity destroyed&#xFF0C;fragment&#x4E5F;&#x5C06;destroyed&#x3002;</p>
<p>Fragment&#x7684;&#x5B50;&#x7C7B;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x6846;&#x67B6;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;Fragment,&#x5C24;&#x5176;&#x662F;&#x5728;&#x9700;&#x8981;&#x6062;&#x590D;&#x4E4B;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x72B6;&#x6001;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528;&#x65E0;&#x53C2;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x3002;</p>
<p>Fragment&#x751F;&#x547D;&#x5468;&#x671F;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p><strong>onAttach(Activity)</strong> : &#x5F53;fragment&#x5173;&#x8054;&#x5230;Activity&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x65B0;&#x7248;&#x4EE3;&#x7801;&#x4E2D;&#x5DF2;&#x7ECF;&#x5E9F;&#x5F03;&#xFF0C;&#x6539;&#x4E3A;<strong>onAttach(Context context)</strong>&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5728;fragment&#x4E2D;&#x62FF;&#x5230;context&#xFF0C;&#x6B64;&#x5904;&#x6539;&#x52A8;&#x5E94;&#x8BE5;&#x8FD8;&#x662F;&#x9F13;&#x52B1;&#x5F00;&#x53D1;&#x8005;&#x5728;fragment&#x4E2D;&#x6487;&#x6E05;&#x4E0E;activity&#x7684;&#x5173;&#x7CFB;&#xFF0C;antivity&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E0D;&#x5E94;&#x8BE5;&#x7531;fragment&#x63A7;&#x5236;&#x3002;<br><strong>onCreate(Bundle):</strong>&#x770B;&#x4E0B;&#x6E90;&#x7801;&#x4E2D;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x5728;onAttach&#x4E4B;&#x540E;&#x8C03;&#x7528;&#xFF0C;&#x5728;onCreate&#x4E4B;&#x524D;&#x8C03;&#x7528;&#xFF0C;&#x6B64;&#x5904;&#x7684;&#x64CD;&#x4F5C;&#x4E3A;&#x521D;&#x59CB;&#x5316;fragment<br> <strong>onCreateView(LayoutInflater, ViewGroup, Bundle):</strong> &#x521B;&#x5EFA;&#x5E76;&#x8FD4;&#x56DE;&#x9700;&#x8981;&#x5C55;&#x793A;&#x7684;&#x89C6;&#x56FE;&#xFF0C;&#x4F7F;&#x7528;inflater.inflate()&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x89C6;&#x56FE;<br><strong>onActivityCreated(Bundle)&#xFF1A;</strong> &#x901A;&#x77E5;fragment&#xFF0C;&#x5B83;&#x6240;&#x5728;&#x7684;activity.onCreate&#x65B9;&#x6CD5;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x5B8C;&#x6210;<br><strong>onViewStateRestored(Bundle):</strong> &#x901A;&#x77E5;fragment&#xFF0C;&#x4E4B;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x72B6;&#x6001;&#x5DF2;&#x7ECF;&#x6062;&#x590D;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x6062;&#x590D;&#x89C6;&#x56FE;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4F8B;&#x5982;&#x590D;&#x9009;&#x6846;&#x7684;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x8C03;&#x7528;&#x65F6;&#x673A;&#x4E3A;<strong>onActivityCreated</strong>&#x4E4B;&#x540E;&#xFF0C;<strong>onStart</strong>&#x4E4B;&#x524D;<br><strong>onStart():</strong> &#x5F53;fragment&#x5BF9;&#x7528;&#x6237;&#x53EF;&#x89C1;&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x901A;&#x5E38;&#x4E0E;activity&#x7684;start&#x65B9;&#x6CD5;&#x7ED1;&#x5B9A;  <strong>onResume():</strong> &#x5F53;fragment&#x5904;&#x4E8E;&#x53EF;&#x4EE5;&#x4E0E;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#x72B6;&#x6001;&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x4E0E;activity&#x7684;onResume&#x65B9;&#x6CD5;&#x7ED1;&#x5B9A;  </p>
</blockquote>
<p>&#x5F53;fragment&#x4E0D;&#x518D;&#x88AB;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x7C7B;&#x4F3C;activity&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x4F1A;&#x6309;&#x7167;fragment&#x521B;&#x5EFA;&#x76F8;&#x53CD;&#x7684;&#x884C;&#x4E3A;&#x6267;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x65B9;&#x6CD5;&#xFF1A;</p>
<blockquote>
<p><strong>onPause():</strong> &#x5BF9;&#x5E94;onResume,fragment&#x4E0D;&#x518D;&#x5904;&#x4E8E;&#x53EF;&#x4EE5;&#x4E0E;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#x7684;&#x72B6;&#x6001;<br><strong>onStop()&#xFF1A;</strong> &#x5BF9;&#x5E94;onStart&#xFF0C;fragment&#x4E0D;&#x518D;&#x5BF9;&#x7528;&#x6237;&#x53EF;&#x89C1;<br><strong>onDestroyView()&#xFF1A;</strong> &#x5BF9;&#x5E94; onCreateView,&#x6E05;&#x7406;&#x76F8;&#x5173;&#x89C6;&#x56FE;&#x8D44;&#x6E90;<br><strong>onDestroy()&#xFF1A;</strong> &#x5BF9;&#x5E94;onCreate,&#x6E05;&#x7406;fragment&#x76F8;&#x5173;&#x72B6;&#x6001;<br><strong>onDetach()&#xFF1A;</strong> &#x5BF9;&#x5E94; onAttach,&#x89E3;&#x9664;&#x4E0E;activity&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;</p>
</blockquote>
<h3 id="3_u3001_u901A_u8FC7_u4EE3_u7801_u611F_u53D7_u4E00_u4E0B_u751F_u547D_u5468_u671F"><a href="#3_u3001_u901A_u8FC7_u4EE3_u7801_u611F_u53D7_u4E00_u4E0B_u751F_u547D_u5468_u671F" class="headerlink" title="3&#x3001;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x611F;&#x53D7;&#x4E00;&#x4E0B;&#x751F;&#x547D;&#x5468;&#x671F;"></a>3&#x3001;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x611F;&#x53D7;&#x4E00;&#x4E0B;&#x751F;&#x547D;&#x5468;&#x671F;</h3><p>&#x5E03;&#x5C40;&#x6587;&#x4EF6; <strong>activity_main.xml</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">FrameLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">	<span class="attribute">android:layout_width</span>=<span class="value">&quot;match_parent&quot;</span></span><br><span class="line">	<span class="attribute">android:layout_height</span>=<span class="value">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="title">fragment</span></span><br><span class="line">		<span class="attribute">android:id</span>=<span class="value">&quot;@+id/titles&quot;</span></span><br><span class="line">		<span class="attribute">class</span>=<span class="value">&quot;com.anzxy.fragmentlifecycle.FragmentA&quot;</span></span><br><span class="line">		<span class="attribute">android:layout_width</span>=<span class="value">&quot;match_parent&quot;</span></span><br><span class="line">		<span class="attribute">android:layout_height</span>=<span class="value">&quot;match_parent&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">FrameLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;FramentA  ,&#x52A0;&#x5165;&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x6253;&#x5370;</p>
<p>MainActivity&#x7C7B;&#xFF1A;  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">		<span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">		setContentView(R.layout.activity_main);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5728;mainActivity&#x52A0;&#x5165;Activity&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x6267;&#x884C;&#x7684;&#x6253;&#x5370;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#xFF0C;&#x770B;&#x7ED3;&#x679C;&#xFF1A;</p>
<blockquote>
<p>MainActivity: ########## onCreate&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>MainActivity: ########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onAttach<br>FragmentA: onCreate<br>FragmentA: onCreateView<br>FragmentA: onViewCreated<br>MainActivity: ########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onStart&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onActivityCreated<br>FragmentA: onViewStateRestored<br>FragmentA: onStart<br>MainActivity: ########## onStart&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onResume&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>MainActivity: ########## onResume&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>FragmentA: onResume<br><strong>&#x70B9;&#x51FB;&#x8FD4;&#x56DE;&#x6309;&#x94AE;</strong><br>MainActivity: ########## onPause&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onPause<br>MainActivity: ########## onPause&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onStop&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onStop<br>MainActivity: ########## onStop&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onDestroy&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onDestroyView<br>FragmentA: onDestroy<br>FragmentA: onDetach<br>MainActivity: ########## onDestroy&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############  </p>
</blockquote>
<p>&#x66F4;&#x6539;Fragment&#x521B;&#x5EFA;&#x65B9;&#x5F0F;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">    Log.i(TAG, <span class="string">&quot;########## onCreate&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############&quot;</span>);</span><br><span class="line"></span><br><span class="line">    FragmentA fragmentA = <span class="keyword">new</span> FragmentA();</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    FragmentTransaction transaction =  </span><br><span class="line">    <span class="keyword">this</span>.getSupportFragmentManager().beginTransaction();</span><br><span class="line">    transaction.add(R.id.main_frame,fragmentA);</span><br><span class="line">    transaction.commit();</span><br><span class="line">    Log.i(TAG, <span class="string">&quot;########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############&quot;</span>);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    Log.i(TAG, <span class="string">&quot;########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############&quot;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<blockquote>
<p>MainActivity: ########## onCreate&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>MainActivity: ########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>MainActivity: ########## setContentView&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onStart&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onAttach<br>FragmentA: onCreate<br>FragmentA: onCreateView<br>FragmentA: onViewCreated<br>FragmentA: onActivityCreated<br>FragmentA: onViewStateRestored<br>FragmentA: onStart<br>MainActivity: ########## onStart&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onResume&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>MainActivity: ########## onResume&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>FragmentA: onResume<br><strong>&#x70B9;&#x51FB;&#x8FD4;&#x56DE;&#x6309;&#x94AE;</strong><br>MainActivity: ########## onPause&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onPause<br>MainActivity: ########## onPause&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onStop&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onStop<br>MainActivity: ########## onStop&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############<br>MainActivity: ########## onDestroy&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D; ############<br>FragmentA: onDestroyView<br>FragmentA: onDestroy<br>FragmentA: onDetach<br>MainActivity: ########## onDestroy&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x540E; ############  </p>
</blockquote>
<p>&#x6B64;&#x5904;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x4E24;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;fragment&#x751F;&#x547D;&#x5468;&#x671F;&#x6267;&#x884C;&#x7684;&#x65F6;&#x673A;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x4ECE;&#x6E90;&#x7801;&#x5C42;&#x9762;&#x8FDB;&#x884C;&#x89E3;&#x91CA;&#x3002;</p>
<h3 id="4_u3001fragment_u63A7_u5236"><a href="#4_u3001fragment_u63A7_u5236" class="headerlink" title="4&#x3001;fragment&#x63A7;&#x5236;"></a>4&#x3001;fragment&#x63A7;&#x5236;</h3><p>FragmentManager &#x83B7;&#x53D6;</p>
<ol>
<li><p>activity&#x4E2D; getFragmentManager</p>
</li>
<li><p>&#x5982;&#x679C;&#x4F7F;&#x7528;android.support.v4.app.Fragment&#xFF0C;&#x5219;&#x9700;&#x8981;&#x7528;FragmentActivity&#x4E2D;&#x7684;getSupportFragmentManager  </p>
</li>
<li><p>&#x4F7F;&#x7528;Fragment&#x7684;getFragmentManager(),&#x6CE8;&#x610F;&#x6B64;&#x65B9;&#x6CD5;&#x53EA;&#x6709;&#x5728;fragment&#x88AB;&#x7EB3;&#x5165;&#x5230;&#x4E8B;&#x52A1;&#x4E2D;&#x65F6;&#x624D;&#x4E0D;&#x4E3A;&#x7A7A;,&#x8FD4;&#x56DE;&#x7684;&#x662F;activity&#x83B7;&#x53D6;&#x7684;mananger</p>
</li>
<li>&#x4F7F;&#x7528;Fragment&#x7684;getChildFragmentManager(),&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x7BA1;&#x7406;&#x5185;&#x90E8;&#x7684;fragment </li>
</ol>
<p>FragmentManager&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;<br><strong>addOnBackStackChangedListener()&#xFF1A;</strong>&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6808;&#x53D8;&#x5316;&#x7684;&#x76D1;&#x542C;<br><strong>beginTransaction()&#xFF1A;</strong>&#x5F00;&#x542F;&#x4E00;&#x4E2A;fragment&#x64CD;&#x4F5C;&#x7684;&#x4E8B;&#x52A1;<br><strong>findFragmentById()&#xFF1A;</strong>&#x901A;&#x8FC7;ID&#x67E5;&#x627E;fragment,&#x9996;&#x5148;&#x67E5;&#x627E;&#x6DFB;&#x52A0;&#x5230;&#x5F53;&#x524D;activity&#x4E2D;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x5219;&#x67E5;&#x627E;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6808;&#x4E2D;&#x7684;fragment<br><strong>findFragmentByTag:</strong>&#x540C;findFragmentById&#xFF0C;&#x53EA;&#x662F;&#x901A;&#x8FC7;tag&#x6807;&#x5FD7;&#x67E5;&#x627E;<br><strong>popBackStack():</strong>&#x6808;&#x56DE;&#x9000;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x64A4;&#x9500;&#x52A0;&#x5165;&#x5230;&#x6808;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x56DE;&#x9000;&#x64CD;&#x4F5C;&#x8BF7;&#x6C42;&#x4F1A;&#x52A0;&#x5165;&#x5230;&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x56DE;&#x9000;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x3002;<br><strong>popBackStackImmediate():</strong>&#x4E0E;popBackStack&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x6B64;&#x65B9;&#x5F0F;&#x662F;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;<br><strong>execPendingActions():</strong>&#x7ACB;&#x5373;&#x6267;&#x884C;&#x52A0;&#x5165;&#x5230;fragmentTransaction&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x540C;&#x65F6;&#x4F1A;&#x4ECE;&#x4E3B;&#x7EBF;&#x7A0B;&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x4E2D;&#x79FB;&#x9664;&#xFF09;</p>
<p>FragmentTransaction&#x5E38;&#x7528;&#x65B9;&#x6CD5;,&#x53EF;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#xFF1A;  </p>
<p><strong>FragmentTransaction add(IdRes int containerViewId, Fragment fragment)&#xFF1A;</strong>&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;Fragment,containerViewId&#x5BB9;&#x5668;ID,fragment&#x4E2D;onCreateView&#x8FD4;&#x56DE;&#x7684;&#x89C6;&#x56FE;&#x4F1A;&#x6DFB;&#x52A0;&#x5230;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x4E2D;<br><strong>FragmentTransaction remove(Fragment fragment)&#xFF1A;</strong>&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;fragment&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x4E8B;&#x52A1;&#x6CA1;&#x6709;&#x6267;&#x884C;addToBackStack&#xFF0C;&#x5219;&#x88AB;&#x79FB;&#x9664;&#x7684;fragment&#x4F1A;&#x9500;&#x6BC1;<br><strong>FragmentTransaction replace(@IdRes int containerViewId, Fragment fragment)&#xFF1A;</strong>&#x66FF;&#x6362;&#x89C6;&#x56FE;&#x5BB9;&#x5668;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;fragment&#xFF0C;&#x6B64;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;remove()&#x548C;add()<br><strong>FragmentTransaction detach(Fragment fragment)&#xFF1A;</strong>&#x628A;fragment&#x4ECE;UI&#x4E2D;&#x8131;&#x79BB;&#xFF0C;&#x4F46;&#x662F;fragmentManager&#x4ECD;&#x7136;&#x53D7;fragment&#x7684;&#x7BA1;&#x7406;<br><strong>FragmentTransaction attach(Fragment fragment)&#xFF1A;</strong>&#x628A;&#x4E4B;&#x524D;&#x8131;&#x79BB;&#x7684;fragment&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x5230;UI&#x4E2D;<br><strong>FragmentTransaction hide(Fragment fragment):</strong>&#x9690;&#x85CF;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;fragment,&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6DFB;&#x52A0;&#x5230;containerView&#x4E2D;&#x7684;&#x76F8;&#x5173;view<br><strong>FragmentTransaction show(Fragment fragment)&#xFF1A;</strong>&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;fragment<br><strong>FragmentTransaction addToBackStack(@Nullable String name):</strong>&#x628A;&#x8FD9;&#x4E2A;&#x4E8B;&#x52A1;&#x52A0;&#x5165;&#x5230;&#x6808;&#x4E2D;&#xFF0C;&#x5F53;&#x6267;&#x884C;popBackStack&#x65F6;&#xFF0C;&#x6B64;&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x56DE;&#x9000;<br><strong>int commit()&#xFF1A;</strong>&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#xFF0C;&#x4F46;&#x662F;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF0C;&#x5B83;&#x4F1A;&#x52A0;&#x5165;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5FAA;&#x73AF;&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x6267;&#x884C;(handler.post())  </p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;commit()&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;fragment&#x7684;&#x65F6;&#x5019;&#xFF0C;activity&#x7684;onCreate()&#x65B9;&#x6CD5;&#x5185;&#x4E0D;&#x4F1A;&#x6267;&#x884C;fragment&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x67E5;&#x770B;&#x4E00;&#x4E0B;FragmentActivity&#x7684;onStart()&#x6E90;&#x7801;&#xFF1A;  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">super</span>.onStart();</span><br><span class="line"></span><br><span class="line">    mStopped = <span class="keyword">false</span>;</span><br><span class="line">    mReallyStopped = <span class="keyword">false</span>;</span><br><span class="line">    mHandler.removeMessages(MSG_REALLY_STOPPED);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!mCreated) {</span><br><span class="line">        mCreated = <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">//&#x901A;&#x77E5;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;fragment&#xFF0C;Activity&#x5DF2;&#x521B;&#x5EFA;</span></span><br><span class="line">        mFragments.dispatchActivityCreated();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    mFragments.noteStateNotSaved();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//&#x4E4B;&#x524D;commit&#x7684;&#x64CD;&#x4F5C;&#x5728;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x6267;&#x884C;&#xFF0C;&#x4E0D;&#x7528;&#x6392;&#x961F;&#x7B49;&#x5F85;</span></span><br><span class="line">    mFragments.execPendingActions();</span><br><span class="line"></span><br><span class="line">    mFragments.doLoaderStart();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">NOTE:</span> HC onStart goes here.</span></span><br><span class="line">		</span><br><span class="line">    <span class="comment">//&#x66F4;&#x65B0;&#x72B6;&#x6001;&#x5230;start</span></span><br><span class="line">    mFragments.dispatchStart();</span><br><span class="line">    mFragments.reportLoaderStart();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>Fragment&#x72B6;&#x6001;:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> INITIALIZING = <span class="number">0</span>;     <span class="comment">// Not yet created.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CREATED = <span class="number">1</span>;          <span class="comment">// Created.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ACTIVITY_CREATED = <span class="number">2</span>; <span class="comment">// The activity has finished its creation.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> STOPPED = <span class="number">3</span>;          <span class="comment">// Fully created, not started.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> STARTED = <span class="number">4</span>;          <span class="comment">// Created and started, not resumed.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> RESUMED = <span class="number">5</span>;          <span class="comment">// Created started and resumed.</span></span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;activity&#x72B6;&#x6001;&#x5904;&#x4E8E;resume&#x72B6;&#x6001;,&#x90A3;&#x4E48;&#x65B0;&#x589E;&#x52A0;&#x7684;fragment&#x72B6;&#x6001;&#x4F1A;&#x4ECE;0&#x53D8;&#x4E3A;5&#xFF0C;fragment&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x4F1A;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x3002;</p>
<p>&#x5728;activity&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x5185;&#x4F1A;&#x66F4;&#x65B0;fragment&#x7684;&#x72B6;&#x6001;:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mFragments.dispatchCreate();  </span><br><span class="line">mFragments.dispatchActivityCreated();</span><br><span class="line">mFragments.dispatchStart();</span><br><span class="line">mFragments.dispatchResume();</span><br><span class="line">mFragments.dispatchPause();</span><br><span class="line">mFragments.dispatchStop();</span><br><span class="line">mFragments.dispatchDestroy();</span><br></pre></td></tr></table></figure></p>
<h3 id="u603B_u7ED3"><a href="#u603B_u7ED3" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>&#x5176;&#x5B9E;android&#x63D0;&#x4F9B;&#x7ED9;&#x6211;&#x4EEC;&#x7684;Fragment&#x7C7B;&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#xFF0C;&#x6211;&#x4E48;&#x6309;&#x7167;&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x5C31;&#x80FD;&#x591F;&#x4EAB;&#x53D7;&#x5230;Fragment&#x5E26;&#x7ED9;&#x6211;&#x4EEC;&#x7684;&#x4FBF;&#x5229;&#xFF0C;&#x53E6;&#x5916;&#x5728;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x78B0;&#x5230;&#x7C7B;&#x4F3C;&#x60C5;&#x51B5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4EFF;&#x7167;&#x8FD9;&#x4E2A;&#x601D;&#x8DEF;&#x6765;&#x8BBE;&#x8BA1;&#x7EC4;&#x7EC7;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x589E;&#x52A0;&#x4E1A;&#x52A1;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;</p>
<p>&#x9644;&#x4E0A;&#x4E00;&#x6BB5;Fragment&#x5207;&#x6362;&#x7684;<a href="https://github.com/emf1002/Android-Learn.git" target="_blank" rel="external">&#x6F14;&#x793A;&#x4EE3;&#x7801;</a></p>
<p></p><p>&#x6587;&#x7AE0;&#x53C2;&#x8003;&#xFF1A;<br><a href="http://blog.csdn.net/lmj623565791/article/details/37970961" target="_blank" rel="external">Android Fragment &#x771F;&#x6B63;&#x7684;&#x5B8C;&#x5168;&#x89E3;&#x6790;</a></p>

      
    </div>
    
  </div>
  
    
  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="android/Fragment" data-title="Fragment" data-url="http://yoursite.com/2016/01/22/android/Fragment/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"mjlao"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 MjLao
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>